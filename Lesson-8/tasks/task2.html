<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>
<body>
   <h1>Задача 2</h1>
   <p>
      Дано масив, який зберігає кількість відвідувачів магазину протягом тижня. Вивести на екран:
      <ul>
         <li>номери днів, протягом яких кількість відвідувачів була меншою за 20;</li>
         <li>номери днів, коли кількість відвідувачів була мінімальною;</li>
         <li>номери днів, коли кількість відвідувачів була максимальною;</li>
         <li>загальну кількість клієнтів у робочі дні та окремо загальну кількість кліентів на вихідних.</li>
      </ul>
</p>

   <script>
      
      //1.Вводимо необхідні дані

      let confirmMessage = confirm("Let's start the task?")
      if (confirmMessage) {
      const clientsNumberPerDay = [2, 14, 100, 2, 45, 80, 100];
      let daysNumber = clientsNumberPerDay.length
      
      //2.Знаходимо результат для номери днів, протягом яких кількість відвідувачів була меншою за 20;
      function showDaysWhenLessThen20(arr) {
         let newArr = [];
         for (let i = 0; i <= daysNumber; i++) {
            if (arr[i] < 20) newArr.push(i + 1);
            }
         return newArr
      }
      
      //номери днів, коли кількість відвідувачів була мінімальною;
      function showDaysMin(arr) {
         let minValue = Math.min(...arr); 
         let newArr = [];
         for (let i = 0; i < daysNumber; i++) {
            if (arr[i] === minValue) newArr.push(i + 1);
         }
         return newArr;
      }

       //номери днів, коли кількість відвідувачів була максимальною;
       function showDaysMax(arr) {
         let maxValue = Math.max(...arr); 
         let newArr = [];
         for (let i = 0; i < daysNumber; i++) {
            if (arr[i] === maxValue) newArr.push(i + 1);
         }
         return newArr;
      }

      //загальна кількість клієнтів на робочі дні та вихідні:
      // function totalVisitorsOnWorkdaysAndWeekends(arr) {
      //    let workdaysTotal = arr[0] + arr[1] + arr[2] + arr[3] + arr[4]; 
      //    let weekendsTotal = arr[5] + arr[6]; 
      //    return { workdaysTotal, weekendsTotal };
      // }

      function totalVisitorsOnWorkdaysAndWeekends(arr) {
            return arr.reduce(
               (totals, visitors, index) => {
                  if (index < 5) {
                     totals.workdaysTotal += visitors; // Додаємо до будніх днів (0-4)
                  } else {
                     totals.weekendsTotal += visitors; // Додаємо до вихідних (5-6)
                  }
                  return totals;
               },
               { workdaysTotal: 0, weekendsTotal: 0 } // Початкові значення
            );
         }

      //3. Виводимо результат
      document.write(`Кількість відвідувачів кожен день: ${clientsNumberPerDay} <br><hr>`);
      document.write(`
         ${showDaysWhenLessThen20(clientsNumberPerDay)} - номери днів, протягом яких кількість відвідувачів була меншою за 20; <br>
         ${showDaysMin(clientsNumberPerDay)} - номери днів, коли кількість відвідувачів була мінімальною;<br>
         ${showDaysMax(clientsNumberPerDay)} - номери днів, коли кількість відвідувачів була максимальною;<br>
         Загальна кількість відвідувачів на робочі дні: ${totalVisitorsOnWorkdaysAndWeekends(clientsNumberPerDay).workdaysTotal}<br>
         Загальна кількість відвідувачів на вихідні: ${totalVisitorsOnWorkdaysAndWeekends(clientsNumberPerDay).weekendsTotal}<br>
      `);
   }
</script>
</body>
</html>